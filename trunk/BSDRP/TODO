# TODO List fort the BSD Router Project
## Bugs #

* if no-mandatory /data had a fsck problem, system refuse go in single user
* add auto-trimming of all log files that are being created

## Upgrading #

* Replacing the use of 2 systems partitions (there is not "active" partition
  concept on sparc64, ARM, MIPS, neither bootloader on XEN-PV) by freebsd-update ???

## Arch #

* NEED to merge lot's of common task of create_arch_diskimage() in nanobsd
* Sparc64: Need to fix the login bug, and add arch support to the update script (Is possible to modify the boot PROM from the OS?)
* arm: Need to found an arm devices for working on
* cross-compilation : check this URL: http://forums.freebsd.org/showthread.php?t=18147

## Authentication #

* Need to test PAM (Radius, TACAS+) modules

## Multicast #

* Need to found IPv4 PIM-dm/sm daemon and test them

## misc #

* utf-8 support for console ?
* Quagga rc script: limit all quagga process message when quagga is disabled
* Need to publish an OVF (Open Virtualization Format) tar file
* Re-write script that read/write rc.conf or rc.conf.local with sysrc(8)

## Central configuration management / Provisionning #

* Use cvs/subversion/others for maintain central management of configuration files
* Be compatible with a provisionning tools that generate lot's of configuration (subversion copy?)
* Need to check RANCID integration
* Need to study NETCONF support

## Performance #

* In place of tunning, need to add a script that check the hardware, and regarding the hardware (NIC drivers, ncpu, RAM, etc...) will display some advice
* Need to check CPU affinity for routing process and forwarding process (cpuset)
  like this script:
==============
#!/bin/sh

# PROVIDE: cpuset-igb
# REQUIRE: FILESYSTEMS
# BEFORE:  netif
# KEYWORD: nojail

case "$1" in
*start)
  echo "Binding igb(4) IRQs to CPUs"
  cpus=`sysctl -n kern.smp.cpus`
  vmstat -ai | sed -E '/^irq.*que/!d; s/^irq([0-9]+): igb([0-9]+):que ([0-9]+).*/\1 \2 \3/' |\
  while read irq igb que
  do
    cpuset -l $(( ($igb+$que) % $cpus )) -x $irq
  done
  ;;
esac
===============

## API #

* Need to check if an API (for usage as a VM in cloud for example) is a good idea
* Netconf: Need to check this BSD licensed:http://www.yumaworks.com/products/yuma/

## labs #

* PAM: tacacs+, radius, ldap, etc
* Lab script: Generate a lab diagram in DOT language, see example in tools/bsdrp.lab.gv
* Lab script: Xen script to add

## nanobsd patches to study for inclusion # 

http://lists.freebsd.org/pipermail/freebsd-embedded/2012-June/001580.html

========== TO DO before next release =======
1. Need to validate the new netgraph netflow rc script 
2. Need to check openvpn
3. Need to fix the cp -Rp chflags error message (chflags("dest-dir",0x800)  ERR#45 'Operation not supported')
